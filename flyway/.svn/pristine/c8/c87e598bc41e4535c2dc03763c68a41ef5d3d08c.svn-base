-- 
-- Script was generated by Devart dbForge Studio for SQL Server, Version 5.4.270.0
-- Product Home Page: http://devart.com/dbforge/sql/studio
-- Script date 05/07/2018 17:07:31
-- Source server version: 12.00.2269
-- Source connection string: Data Source=elissia-sql,1433;Integrated Security=False;User ID=elissia-flywaydb
-- Target server version: 12.00.4213
-- Target connection string: Data Source=elissia-sql,1435;Integrated Security=False;User ID=elissia-flywaydb
-- Run this script against $[CLIENT_ENV]_WORKFLOW to synchronize it with $[CLIENT_ENV]_WORKFLOW
-- Please backup your target database before running this script
-- 
SET CONCAT_NULL_YIELDS_NULL, ANSI_NULLS, ANSI_PADDING, QUOTED_IDENTIFIER, ANSI_WARNINGS, ARITHABORT, XACT_ABORT ON
SET NUMERIC_ROUNDABORT, IMPLICIT_TRANSACTIONS OFF
GO

USE $[CLIENT_ENV]_WORKFLOW
GO

IF DB_NAME() <> N'$[CLIENT_ENV]_WORKFLOW' SET NOEXEC ON
GO


--
-- Set transaction isolation level
--
PRINT (N'Set transaction isolation level')
GO
SET TRANSACTION ISOLATION LEVEL SERIALIZABLE
GO

--
-- Start Transaction
--
PRINT (N'Start Transaction')
GO
BEGIN TRANSACTION
GO

--
-- Alter column [TRIGGER_CRITERIA] on table [dbo].[WORKFLOW_PROCESS]
--
PRINT (N'Alter column [TRIGGER_CRITERIA] on table [dbo].[WORKFLOW_PROCESS]')
GO
IF EXISTS (
  SELECT 1 FROM sys.columns
  WHERE name = N'TRIGGER_CRITERIA' AND object_id = OBJECT_ID(N'dbo.WORKFLOW_PROCESS'))
ALTER TABLE dbo.WORKFLOW_PROCESS
  ALTER
    COLUMN TRIGGER_CRITERIA nvarchar(4000)
GO
IF @@ERROR<>0 OR @@TRANCOUNT=0 BEGIN IF @@TRANCOUNT>0 ROLLBACK SET NOEXEC ON END
GO

--
-- Commit Transaction
--
PRINT (N'Commit Transaction')
GO
IF @@TRANCOUNT>0 COMMIT TRANSACTION
GO

--
-- Set NOEXEC to off
--
PRINT (N'Set NOEXEC to off')
GO
SET NOEXEC OFF
GO
